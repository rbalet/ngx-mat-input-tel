<div class="ngx-mat-input-tel-container">
  <button
    type="button"
    matRipple
    (click)="openCountrySelector()"
    (focus)="onDialCodeFocus()"
    (blur)="onDialCodeBlur()"
    class="country-selector"
    [class.separate]="separateDialCode"
    [class.focused]="separateDialCode && isDialCodeFocused"
    [class.invalid]="$isCountryInvalid()"
    [disabled]="disabled"
    [attr.aria-label]="ariaLabel"
    [attr.aria-invalid]="$isCountryInvalid() || null"
  >
    <ngx-mat-input-tel-flag
      class="main-flag"
      [country]="{
        iso2: $selectedCountry().iso2,
        dialCode: $selectedCountry().dialCode,
      }"
    ></ngx-mat-input-tel-flag>
  </button>

  <input
    class="ngx-mat-input-tel-input"
    matInput
    type="tel"
    inputmode="tel"
    name="tel"
    [autocomplete]="autocomplete"
    [ngClass]="cssClass"
    (blur)="onPhoneInputBlurAndTouch()"
    (focus)="onPhoneInputFocus()"
    (keypress)="onInputKeyPress($event)"
    [(ngModel)]="phoneNumber"
    (ngModelChange)="onPhoneNumberChange()"
    [errorStateMatcher]="errorStateMatcher"
    [placeholder]="placeholder || ($selectedCountry() | removeIso) || ''"
    [disabled]="disabled"
    #focusable
    [maxlength]="maxLength"
  />
</div>
